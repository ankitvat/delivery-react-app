(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[10],{183:function(e,t,a){"use strict";var n=a(95),r=a(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a(0)),l=(0,n(a(97)).default)(s.createElement("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"}),"Phone");t.default=l},189:function(e,t,a){"use strict";var n=a(3),r=a(16),s=a(1),l=a(0),o=(a(9),a(30)),i=a(20),c=a(231),d=a(101),u=a(86),b=a(126),h=a(21),f="undefined"===typeof window?l.useEffect:l.useLayoutEffect,j=l.forwardRef((function(e,t){var a=e.alignItems,r=void 0===a?"center":a,i=e.autoFocus,j=void 0!==i&&i,v=e.button,p=void 0!==v&&v,m=e.children,O=e.classes,g=e.className,x=e.component,y=e.ContainerComponent,C=void 0===y?"li":y,w=e.ContainerProps,A=(w=void 0===w?{}:w).className,I=Object(n.a)(w,["className"]),N=e.dense,S=void 0!==N&&N,k=e.disabled,E=void 0!==k&&k,H=e.disableGutters,R=void 0!==H&&H,D=e.divider,M=void 0!==D&&D,P=e.focusVisibleClassName,L=e.selected,V=void 0!==L&&L,F=Object(n.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),G=l.useContext(b.a),B={dense:S||G.dense||!1,alignItems:r},T=l.useRef(null);f((function(){j&&T.current&&T.current.focus()}),[j]);var $=l.Children.toArray(m),_=$.length&&Object(d.a)($[$.length-1],["ListItemSecondaryAction"]),z=l.useCallback((function(e){T.current=h.findDOMNode(e)}),[]),J=Object(u.a)(z,t),U=Object(s.a)({className:Object(o.a)(O.root,g,B.dense&&O.dense,!R&&O.gutters,M&&O.divider,E&&O.disabled,p&&O.button,"center"!==r&&O.alignItemsFlexStart,_&&O.secondaryAction,V&&O.selected),disabled:E},F),W=x||"li";return p&&(U.component=x||"div",U.focusVisibleClassName=Object(o.a)(O.focusVisible,P),W=c.a),_?(W=U.component||x?W:"div","li"===C&&("li"===W?W="div":"li"===U.component&&(U.component="div")),l.createElement(b.a.Provider,{value:B},l.createElement(C,Object(s.a)({className:Object(o.a)(O.container,A),ref:J},I),l.createElement(W,U,$),$.pop()))):l.createElement(b.a.Provider,{value:B},l.createElement(W,Object(s.a)({ref:J},U),$))})),v=Object(i.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(j),p=l.forwardRef((function(e,t){var a,r=e.classes,i=e.className,c=e.component,d=void 0===c?"li":c,u=e.disableGutters,b=void 0!==u&&u,h=e.ListItemClasses,f=e.role,j=void 0===f?"menuitem":f,p=e.selected,m=e.tabIndex,O=Object(n.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(a=void 0!==m?m:-1),l.createElement(v,Object(s.a)({button:!0,role:j,tabIndex:a,component:d,selected:p,disableGutters:b,classes:Object(s.a)({dense:r.dense},h),className:Object(o.a)(r.root,i,p&&r.selected,!b&&r.gutters),ref:t},O))}));t.a=Object(i.a)((function(e){return{root:Object(s.a)({},e.typography.body1,Object(r.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(s.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(p)},237:function(e,t,a){"use strict";a.r(t);var n=a(89),r=a(90),s=a(92),l=a(91),o=a(10),i=a(4),c=a(0),d=a.n(c),u=a(37),b=a(229),h=a(242),f=a(189),j=a(222),v=a(239),p=a(215),m=a(38),O=a(129),g=a(127),x=a(2),y=a(115),C=a.n(y),w=a(183),A=a.n(w);var I=d.a.memo(Object(x.f)((function(e){var t=e.data,a=e.history;console.log(a);var n=[{name:"Name",selector:"name",sortable:!0,width:"200px"},{name:"Phone",selector:"phone",sortable:!0,width:"140px",cell:function(e,t){var a=e.phone;return Object(i.jsx)("div",{children:Object(i.jsxs)("a",{href:"tel:+91".concat(a),className:"flex middle",children:[Object(i.jsx)(A.a,{})," ",a]})})}},{name:"Hub",sortable:!0,selector:"address.hub",width:"100px",cell:function(e,t){return e.address.hub}},{name:"Region",sortable:!0,selector:"address.area",width:"140px",cell:function(e,t){return e.address.area}},{name:"Locality",sortable:!0,selector:"address.subarea",width:"150px",cell:function(e,t){return e.address.subarea}},{name:"House",selector:"address.house",width:"200px",cell:function(e,t){return e.address.house_number}}];return console.log("Rerendering Table"),Object(i.jsx)(C.a,{striped:!0,noHeader:!0,dense:!0,data:t,columns:n,onRowClicked:function(e,t){a.push("/".concat(e.order_id,"/deliver"))}})})));var N=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={phone:"",selectedArea:"all",selectedSubarea:"all",selectedHub:"all"},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onUpdateOrdersData,a=e.driver;Object(O.a)(a.id).then((function(e){t(e.data)}))}},{key:"render",value:function(){var e=this,t=!0,a=[],n=this.state,r=n.selectedArea,s=n.selectedHub,l=n.selectedSubarea,o=n.phone,c=this.props,d=c.customers,u=c.locations,O=c.areas,g=c.subareas,x=c.hubs;if("all"!==s){var y=u.get(s);O=(O=Array.from(y.keys())).sort((function(e,t){return e.localeCompare(t)}));var C="all"!==r?[y.get(r)]:Array.from(y.values());g=[],C.forEach((function(e){e.forEach((function(e){return g.push(e)}))})),g=g.sort((function(e,t){return e.localeCompare(t)}))}if("all"!==r){var w=new Map;Array.from(u.keys()).forEach((function(e){u.get(e).has(r)&&(w=u.get(e))}));var A=[w.get(r)];g=[],A.forEach((function(e){e.forEach((function(e){return g.push(e)}))})),g=g.sort((function(e,t){return e.localeCompare(t)}))}return d&&(t=!1,a=(a=Array.from(d.values())).filter((function(e){return("all"===s||e.address.hub===s)&&(("all"===r||e.address.area===r)&&(("all"===l||e.address.subarea===l)&&(!o||-1!==e.phone.indexOf(o))))}))),Object(i.jsx)("div",{children:t?Object(i.jsx)(m.a,{}):Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"flex middle",style:{padding:10},children:[Object(i.jsx)("div",{style:{marginRight:20},children:Object(i.jsx)(v.a,{value:o,label:"Phone",onChange:function(t){return e.setState({phone:t.target.value})}})}),Object(i.jsx)("div",{children:Object(i.jsxs)(j.a,{children:[Object(i.jsx)(h.a,{id:"hub-filter",children:"Hub"}),Object(i.jsxs)(b.a,{labelId:"hub-filter",style:{width:160},value:s,onChange:function(t){var a=t.target.value;e.setState({selectedHub:a,selectedArea:"all",selectedSubarea:"all"})},children:[Object(i.jsx)(f.a,{value:"all",children:"All"}),x.map((function(e){return Object(i.jsx)(f.a,{value:e,children:e},e)}))]})]})})]}),Object(i.jsxs)("div",{className:"flex middle",style:{padding:10},children:[Object(i.jsx)("div",{style:{marginRight:20},children:Object(i.jsxs)(j.a,{children:[Object(i.jsx)(h.a,{id:"area-filter",children:"Area"}),Object(i.jsxs)(b.a,{labelId:"area-filter",style:{width:150},value:r,onChange:function(t){var a=t.target.value;e.setState({selectedArea:a,selectedSubarea:"all"})},children:[Object(i.jsx)(f.a,{value:"all",children:"All"}),O.map((function(e){return Object(i.jsx)(f.a,{value:e,children:e},e)}))]})]})}),Object(i.jsx)("div",{children:Object(i.jsxs)(j.a,{children:[Object(i.jsx)(h.a,{id:"subarea-filter",children:"Subareas"}),Object(i.jsxs)(b.a,{labelId:"subarea-filter",style:{width:150},value:l,onChange:function(t,a){var n=t.target.value;e.setState({selectedSubarea:n})},children:[Object(i.jsx)(f.a,{value:"all",children:"All"}),g.map((function(e){return Object(i.jsx)(f.a,{value:e,children:e},e)}))]})]})})]}),Object(i.jsx)("div",{className:"flex right",style:{padding:10},children:Object(i.jsx)("div",{children:Object(i.jsx)(p.a,{color:"primary",onClick:function(){e.setState({phone:"",selectedArea:"all",selectedSubarea:"all",selectedHub:"all",selectedDriver:"all",showWithoutDairy:!1})},children:"Clear All Filters"})})}),Object(i.jsx)(I,{data:a})]})})}}]),a}(c.Component);t.default=Object(u.b)((function(e){var t=e.setDriver;return Object(o.a)({},t)}),(function(e){return{onUpdateOrdersData:function(t){return e(Object(g.b)(t))}}}))(N)}}]);
//# sourceMappingURL=10.667dffcb.chunk.js.map