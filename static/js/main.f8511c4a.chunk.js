(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[3],{14:function(e,r,a){"use strict";a.d(r,"c",(function(){return t})),a.d(r,"d",(function(){return i})),a.d(r,"a",(function(){return c})),a.d(r,"e",(function(){return n})),a.d(r,"b",(function(){return s}));var t="UPDATE_DRIVER",i="UPDATE_ORDERS",c="UPDATE_ADMIN",n="UPDATE_ORDERS_DATA",s="UPDATE_ADMIN_DATA"},38:function(e,r,a){"use strict";var t=a(4),i=a(67);a(0);r.a=function(){return Object(t.jsx)("div",{className:"flex center middle p-10",children:Object(t.jsx)(i.a,{})})}},59:function(e,r,a){},60:function(e,r,a){},66:function(e,r,a){"use strict";a.r(r);var t=a(4),i=a(0),c=a.n(i),n=a(21),s=a.n(n),o=(a(59),a(40)),d=a(2),u=a(51),l=a(83),p=a(84),_=(a(60),a(38)),v=Object(i.lazy)((function(){return Promise.all([a.e(1),a.e(9)]).then(a.bind(null,233))})),h=Object(i.lazy)((function(){return Promise.all([a.e(1),a.e(6)]).then(a.bind(null,234))}));var y=function(){var e=Object(u.a)({palette:{secondary:{light:"#ff4081",main:"#f50057",dark:"#c51162",contrastText:"#fff"},background:{}}});return Object(t.jsx)("div",{id:"app",children:Object(t.jsxs)(l.a,{theme:e,children:[Object(t.jsx)(p.a,{}),Object(t.jsx)(o.a,{base:"delivery-react-app",children:Object(t.jsx)("main",{children:Object(t.jsx)(i.Suspense,{fallback:Object(t.jsx)(_.a,{}),children:Object(t.jsxs)(d.c,{children:[Object(t.jsx)(d.a,{path:"/admin",component:v}),Object(t.jsx)(d.a,{path:"/",component:h})]})})})})]})})},b=function(e){e&&e instanceof Function&&a.e(15).then(a.bind(null,223)).then((function(r){var a=r.getCLS,t=r.getFID,i=r.getFCP,c=r.getLCP,n=r.getTTFB;a(e),t(e),i(e),c(e),n(e)}))},f=a(37),g=a(19),m=a(29),j=a(15),O=a(10),k=a(14),D=window.localStorage.getItem("admin");D=D?JSON.parse(D):void 0,console.log(D);var x={admin:D};function w(e){return"Dairy"in e&&1===Object.entries(e).length}function E(e){return!("Dairy"in e)}var I=window.localStorage.getItem("driver"),S={driver:I=I?JSON.parse(I):void 0};function A(e){return"Dairy"in e&&1===Object.entries(e).length}function M(e){return!("Dairy"in e)}var z=Object(g.c)(Object(g.b)({setDriver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(r.type){case k.c:var a=r.payload;return window.localStorage.setItem("driver",JSON.stringify(a)),Object(O.a)(Object(O.a)({},e),{},{driver:a});case k.d:var t=r.payload,i=new Map,c=new Map,n=new Map;t.forEach((function(e){var r=e.subarea,a=e.area,t=e.hub;if(n.has(t)){var i=n.get(t);if(i.has(a)){var c=i.get(a);c.includes(r)||c.push(r),i.set(a,c),n.set(t,i)}else{var s=[r];i.set(a,s),n.set(t,i)}}else{var o=new Map;o.set(a,[r]),n.set(t,o)}}));var s=[],o=[],d=[],u=[],l={};t.forEach((function(e){var r=e.order_id,a=e.customer_id,t=e.customer_name,c=e.phone_number,n=e.address_id,p=e.house_number,_=e.subarea,v=e.area,h=e.hub,y=e.category,b=e.product,f=e.quantity,g=e.package_size,m=e.package_type,O=e.product_package_id,k=e.product_id,D=e.region_id,x=e.location_id,w=e.delivery_person_id,E={product:b,product_id:k,product_package_id:O,package_size:g,quantity:f,total:g*f,unit:m},I={driver_id:e.driver_id,deliver_date:e.deliver_date,delivery_type:e.delivery_type,proof_img:e.proof_img,complete_delivery:e.complete_delivery,order_cancel_reason:e.order_cancel_reason,boxes:e.boxes,milk_packets:e.milk_packets};if(!1===s.includes(y)&&s.push(y),k in l||(l[k]=b),i.has(a)){var S=i.get(a),A=S.products;y in A?A[y].push(E):A[y]=[E],S.products=A,S.delivery=I}else{!1===d.includes(v)&&d.push(v),!1===u.includes(_)&&u.push(_),!1===o.includes(h)&&o.push(h);var M={name:t,phone:c,order_id:r,address:{address_id:n,house_number:p,subarea:_,area:v,hub:h,region_id:D,location_id:x},products:Object(j.a)({},y,[E]),delivery_person_id:w,delivery:I};i.set(a,M)}}));var p,_=1,v=Object(m.a)(i);try{for(v.s();!(p=v.n()).done;){var h=p.value,y=h[1].products;A(y)?h[1].onlyDairy=!0:(h[1].onlyDairy=!1,h[1].crateId=_,_++),M(y)?h[1].hasNoDairy=!0:h[1].onlyDairy=!1}}catch(b){v.e(b)}finally{v.f()}return t.forEach((function(e){var r=e.customer_id,a=e.category,t=e.product,n=e.quantity,s=e.package_size,o=e.package_type,d=e.product_id;if("Dairy"!==a){var u={quantity:n,total:s*n,crateId:i.get(r).crateId};if(c.has(d)){var l=c.get(d),p=l.crates;p.push(u),l.crates=p}else{var _={package_size:s,product:t,unit:o,crates:[u]};c.set(d,_)}}})),Object(O.a)(Object(O.a)({},e),{},{customers:i,locations:n,productsCollection:c,products:l,areas:d,subareas:u,categories:s,hubs:o,orders:t});default:return e}},setAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(r.type){case k.a:var a=r.payload;return window.localStorage.setItem("admin",JSON.stringify(a)),Object(O.a)(Object(O.a)({},e),{},{admin:a});case k.b:return Object(O.a)(Object(O.a)({},e),r.payload);case k.e:var t=r.payload,i=new Map,c=new Map,n=new Map;t.forEach((function(e){var r=e.subarea,a=e.area,t=e.hub;if(n.has(t)){var i=n.get(t);if(i.has(a)){var c=i.get(a);c.includes(r)||c.push(r),i.set(a,c),n.set(t,i)}else{var s=[r];i.set(a,s),n.set(t,i)}}else{var o=new Map;o.set(a,[r]),n.set(t,o)}}));var s=[],o=[],d=[],u=[],l={};t.forEach((function(e){var r=e.order_id,a=e.customer_id,t=e.customer_name,c=e.phone_number,n=e.address_id,p=e.house_number,_=e.subarea,v=e.area,h=e.hub,y=e.category,b=e.product,f=e.quantity,g=e.package_size,m=e.package_type,O=e.product_package_id,k=e.product_id,D=e.region_id,x=e.location_id,w=e.delivery_person_id,E={product:b,product_id:k,product_package_id:O,package_size:g,quantity:f,total:g*f,unit:m},I={driver_id:e.driver_id,deliver_date:e.deliver_date,delivery_type:e.delivery_type,proof_img:e.proof_img,complete_delivery:e.complete_delivery,order_cancel_reason:e.order_cancel_reason,boxes:e.boxes,milk_packets:e.milk_packets};if(!1===s.includes(y)&&s.push(y),k in l||(l[k]=b),i.has(a)){var S=i.get(a),A=S.products;y in A?A[y].push(E):A[y]=[E],S.products=A,S.delivery=I}else{!1===d.includes(v)&&d.push(v),!1===u.includes(_)&&u.push(_),!1===o.includes(h)&&o.push(h);var M={name:t,phone:c,order_id:r,address:{address_id:n,house_number:p,subarea:_,area:v,hub:h,region_id:D,location_id:x},products:Object(j.a)({},y,[E]),delivery_person_id:w,delivery:I};i.set(a,M)}}));var p,_=1,v=Object(m.a)(i);try{for(v.s();!(p=v.n()).done;){var h=p.value,y=h[1].products;w(y)?h[1].onlyDairy=!0:(h[1].onlyDairy=!1,h[1].crateId=_,_++),E(y)?h[1].hasNoDairy=!0:h[1].hasNoDairy=!1}}catch(b){v.e(b)}finally{v.f()}return t.forEach((function(e){var r=e.customer_id,a=e.category,t=e.product,n=e.quantity,s=e.package_size,o=e.package_type,d=e.product_id;if("Dairy"!==a){var u={quantity:n,total:s*n,crateId:i.get(r).crateId};if(c.has(d)){var l=c.get(d),p=l.crates;p.push(u),l.crates=p}else{var _={package_size:s,product:t,unit:o,crates:[u]};c.set(d,_)}}})),Object(O.a)(Object(O.a)({},e),{},{customers:i,locations:n,productsCollection:c,products:l,areas:d,subareas:u,categories:s,hubs:o,orders:t});default:return e}}}));s.a.render(Object(t.jsx)(c.a.StrictMode,{children:Object(t.jsx)(f.a,{store:z,children:Object(t.jsx)(y,{})})}),document.getElementById("root")),b()}},[[66,4,5]]]);
//# sourceMappingURL=main.f8511c4a.chunk.js.map