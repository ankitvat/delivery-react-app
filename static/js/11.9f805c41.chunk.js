(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[11],{112:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var r=i(122),a=i.n(r),n="https://api.deliver.go4life.in/api";function c(){var t=document.cookie.split(";"),e={};return t.forEach((function(t){var i=t.split("=");e[i[0]]=i[1]})),e}c()["x-auth-token"];function o(t){return a.a.request(t)}!function(){var t,e=c()["x-auth-token"];e&&(t=e,a.a.defaults.headers.common["x-auth-token"]=t)}()},124:function(t,e,i){"use strict";e.a=i.p+"static/media/logo.8f39d4d2.png"},133:function(t,e,i){"use strict";var r=i(10),a=i(3),n=(i(0),i(278)),c=i(135),o=i.n(c),s=i(134),l=i.n(s);e.a=function(t){var e=t.left,i=t.onLeft,c=t.right,s=t.onRight,d=t.center,u=t.leftIcon,j=t.rightIcon,h=t.disabledLeft,b=void 0!==h&&h,m=t.disabledRight,f=void 0!==m&&m,p=t.style,x=void 0===p?{}:p,v=t.className,O=void 0===v?"":v;return Object(a.jsxs)("div",{className:"flex p-10 ".concat(O),style:Object(r.a)({justifyContent:"space-around"},x),children:[Object(a.jsx)("div",{children:e||Object(a.jsx)(n.a,{onClick:i,disabled:b,style:{border:"1px solid rgba(0, 0, 0, 0.23)"},children:u||Object(a.jsx)(l.a,{})})}),Object(a.jsx)("div",{className:"flex center middle ",style:{flexGrow:.5,paddingRight:10,paddingLeft:10},children:d}),Object(a.jsx)("div",{children:c||Object(a.jsx)(n.a,{onClick:s,disabled:f,style:{border:"1px solid rgba(0, 0, 0, 0.23)"},children:j||Object(a.jsx)(o.a,{})})})]})}},149:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var r=i(112),a=i(132),n=i.n(a);function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"a2",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n()().format("YYYY-MM-DD");e=n()(e).format("YYYY-MM-DD");var i="".concat(r.a,"/misc/getReport?report_date=").concat(e,"&milk_type=").concat(t);return Object(r.b)({url:i,method:"get",headers:{"Content-Type":"application/json"}})}},220:function(t,e,i){},221:function(t,e,i){},290:function(t,e,i){"use strict";i.r(e);var r=i(94),a=i(95),n=i(97),c=i(96),o=i(3),s=i(0),l=i(124),d=i(213),u=i(291),j=i(277),h=i(278),b=i(135),m=i.n(b),f=i(134),p=i.n(f),x=i(222),v=i.n(x),O=i(284),Y=i(286),y=i(149),g=i(132),M=i.n(g),k=i(41),_=i(276),D=i(279),w=i(223),S=i(299),C=i(133),T=(i(220),i(57),i(221),function(t){Object(n.a)(i,t);var e=Object(c.a)(i);function i(t){var a;return Object(r.a)(this,i),(a=e.call(this,t)).update=function(){var t=a.state,e=t.milk_type,i=t.report_date;a.setState({loading:!0}),Object(y.a)(e,i).then((function(t){a.setState({report:t.data,loading:!1,error:!1})})).catch((function(t){console.log(t),a.setState({error:t.response?t.response.data:"Some error occured",loading:!1})}))},a.gotoPreviousDay=function(){var t=a.state.report_date;a.setState({report_date:M()(t).subtract(1,"day").format("YYYY-MM-DD")},(function(){return a.update()}))},a.gotoNextDay=function(){var t=a.state.report_date;a.setState({report_date:M()(t).add(1,"day").format("YYYY-MM-DD")},(function(){return a.update()}))},a.onTypeChange=function(t){console.log(t),a.setState({milk_type:t.currentTarget.value},(function(){return a.update()}))},a.setType=function(t){a.setState({milk_type:t},(function(){return a.update()}))},a.state={report_date:M()().format("YYYY-MM-DD"),milk_type:"a2",loading:!0,report:{aflatoxin:!1,antibiotics1:!1,antibiotics2:!1,antibiotics3:!1,bmc_dispatch:"2021-01-21T00:00:00.000Z",bmc_receive:"2021-01-21T00:00:00.000Z",fat:4,id:13,mbrt:40,milk_type:"a2",pdf_url:"https://saleor-go4life-production.s3.ap-south-1.amazonaws.com/milk-report/a2-2021-01-22.pdf",ph:7,plant_dispatch:"2021-01-21T00:00:00.000Z",plant_receive:"2021-01-21T00:00:00.000Z",report_date:"2021-01-22T00:00:00.000Z",snf:9,sodium_content:496,whs_dispatch:"2021-01-21T00:00:00.000Z",whs_receive:"2021-01-21T00:00:00.000Z"}},a}return Object(a.a)(i,[{key:"componentDidMount",value:function(){var t=this,e=this.props.location.search,i=(e=new URLSearchParams(e)).get("milk_type")||"a2",r=e.get("report_date")||M()().format("YYYY-MM-DD");this.setState({milk_type:i,report_date:r},(function(){return t.update()}))}},{key:"render",value:function(){var t=this,e=this.state,i=e.loading,r=e.report,a=e.report_date,n=e.milk_type,c=e.error;return Object(o.jsxs)(s.Fragment,{children:[Object(o.jsxs)("div",{id:"trace",className:"flex middle",children:[Object(o.jsx)("img",{src:l.a,alt:"logo",className:"logo",width:"20%"}),Object(o.jsx)(_.a,{variant:"h5",children:"Trace Your Milk"})]}),Object(o.jsx)(j.a,{}),Object(o.jsxs)("div",{className:"flex middle",children:[Object(o.jsx)(C.a,{className:"middle",style:{flex:1},onLeft:this.gotoPreviousDay,left:Object(o.jsx)(h.a,{size:"small",onClick:this.gotoPreviousDay,disabled:M()(a)<=M()("2021-01-15").endOf("day"),style:{border:"1px solid rgba(0, 0, 0, 0.23)"},children:Object(o.jsx)(p.a,{})}),center:Object(o.jsx)(D.a,{variant:"outlined",fullWidth:!0,children:M()(a).format("DD MMM YYYY")}),right:Object(o.jsx)(h.a,{size:"small",onClick:this.gotoNextDay,disabled:M()(a)>=M()().startOf("day"),style:{border:"1px solid rgba(0, 0, 0, 0.23)"},children:Object(o.jsx)(m.a,{})})}),Object(o.jsxs)("div",{class:"switch-field p-10",children:[Object(o.jsx)("input",{type:"radio",id:"milk-type-a2",name:"milk_type",value:"a2",checked:"a2"===n}),Object(o.jsx)("label",{for:"radio-one",onClick:function(){return t.setType("a2")},children:"A2"}),Object(o.jsx)("input",{type:"radio",id:"milk-type-mix",name:"milk_type",value:"mix",checked:"mix"===n}),Object(o.jsx)("label",{for:"radio-two",onClick:function(){return t.setType("mix")},children:"MIX"})]})]}),Object(o.jsx)(j.a,{}),i?Object(o.jsx)("div",{children:Object(o.jsx)(k.a,{})}):Object(o.jsx)("div",{className:"p-10",children:c?Object(o.jsx)("div",{children:Object(o.jsx)(S.a,{severity:"error",children:c})}):Object(o.jsxs)("div",{children:[Object(o.jsx)(A,{report:r}),Object(o.jsx)(N,{report:r}),Object(o.jsx)("div",{style:{position:"fixed",bottom:20,right:10},children:Object(o.jsx)(u.a,{color:"primary","aria-label":"add",style:{backgroundColor:"#277048"},onClick:function(){window.open(r.pdf_url)},children:Object(o.jsx)(v.a,{})})})]})})]})}}]),i}(s.Component));function N(t){var e=t.report;if(!e)return Object(o.jsx)(_.a,{children:"Sorry, we didn't find any report for that date."});var i=e.bmc_receive,r=e.bmc_dispatch,a=e.plant_receive,n=e.plant_dispatch,c=e.whs_receive,s=e.whs_dispatch;return Object(o.jsxs)("div",{style:{marginTop:10},children:[Object(o.jsx)("div",{className:"p-10",children:Object(o.jsx)(_.a,{variant:"h5",children:"Journey Your Milk Went On"})}),Object(o.jsxs)(d.Timeline,{children:[Object(o.jsx)(d.Event,{interval:M()(i).format("DD MMM YYYY hh:mm A"),title:"BMC",subtitle:"Your milk arrived at the BMC."}),Object(o.jsx)(d.Event,{interval:M()(r).format("DD MMM YYYY hh:mm A"),title:"BMC",subtitle:"Your milk left the BMC."}),Object(o.jsx)(d.Event,{interval:M()(a).format("DD MMM YYYY hh:mm A"),title:"Plant",subtitle:"Your milk arrived at the Plant."}),Object(o.jsx)(d.Event,{interval:M()(n).format("DD MMM YYYY hh:mm A"),title:"Plant",subtitle:"Your milk left the Plant."}),Object(o.jsx)(d.Event,{interval:M()(c).format("DD MMM YYYY hh:mm A"),title:"Warehouse",subtitle:"Your milk arrived at the warehouse."}),Object(o.jsx)(d.Event,{interval:M()(s).format("DD MMM YYYY hh:mm A"),title:"Warehouse",subtitle:"Your milk left the warehouse."})]})]})}function A(t){var e=t.report;if(!e)return Object(o.jsx)(_.a,{children:"Sorry, we didn't find any report for that date."});var i=e.fat,r=e.snf,a=e.ph,n=e.mbrt,c=e.sodium_content;return Object(o.jsx)("div",{children:Object(o.jsxs)(w.a,{container:!0,spacing:1,children:[Object(o.jsx)(w.a,{item:!0,xs:6,sm:6,children:Object(o.jsx)(P,{title:"FAT",value:i,subtitle:"Benefits",content:"Normal Amount",suffix:"%"})}),Object(o.jsx)(w.a,{item:!0,xs:6,sm:6,children:Object(o.jsx)(P,{title:"SNF",value:r,subtitle:"Benefits",content:"Normal Amount",suffix:"%"})}),Object(o.jsx)(w.a,{item:!0,xs:6,sm:6,children:Object(o.jsx)(P,{title:"PH",value:a,subtitle:"Should be between 6.5 and 7",content:"Critical Amount",suffix:""})}),Object(o.jsx)(w.a,{item:!0,xs:6,sm:6,children:Object(o.jsx)(P,{title:"MBRT",value:n,subtitle:"Should be above 35 mins",content:"Normal Amount",suffix:"mins"})}),Object(o.jsx)(w.a,{item:!0,xs:6,sm:6,children:Object(o.jsx)(P,{title:"Sodium Content",value:c,subtitle:"mg/100 gm SNF",content:"Normal Amount",suffix:""})})]})})}function P(t){var e=t.title,i=t.value,r=t.suffix,a=t.subtitle;t.content;return Object(o.jsx)(O.a,{children:Object(o.jsxs)(Y.a,{children:[Object(o.jsx)(_.a,{color:"textSecondary",gutterBottom:!0,children:e}),Object(o.jsxs)(_.a,{variant:"h5",component:"h2",children:[i," ",r]}),Object(o.jsx)(_.a,{color:"textSecondary",children:a})]})})}e.default=T}}]);
//# sourceMappingURL=11.9f805c41.chunk.js.map