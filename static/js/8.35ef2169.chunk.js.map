{"version":3,"sources":["helpers/utils.js","trace/fonts/logo.webp","trace/header.js","trace/icons/plant.svg","trace/icons/factory.svg","trace/icons/warehouse.svg","trace/icons/arrow.svg","trace/Main.js","trace/Journey.js","trace/icons/milkbox.svg","trace/Facts.js","trace/getDate.js","api/misc.js","trace/Trace.js"],"names":["API_URL","getCookies","cookies","document","cookie","split","data","forEach","values","request","config","axios","accessToken","userAccessToken","defaults","headers","common","initRequestAuthHeader","Header","className","src","logo","alt","Main","plant","moment","bmc_receive","format","bmc_dispatch","arrow","factory","plant_receive","plant_dispatch","warehouse","whs_receive","whs_dispatch","Journey","useState","journey","setJourney","useEffect","startTime","endTime","duration","diff","console","log","hours","parseInt","asHours","minutes","asMinutes","container","useRef","lottie","loadAnimation","current","renderer","loop","autoplay","speed","animationData","require","ref","Facts","milkbox","onClick","window","open","pdf_url","ph","fat","snf","mbrt","GetDate","startDate","setStartDate","setIsA2","isA2","selected","onChange","date","name","getReport","a","type","report_date","url","method","result","Trace","Date","setData","loading","setLoading","response","getData","Loading"],"mappings":"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","file":"static/js/8.35ef2169.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const API_URL = \"https://api.deliver.go4life.in/api\";\r\n// export const API_URL = 'https://go4life-deliver.herokuapp.com/api';\r\n// export const API_URL = 'http://localhost:5000/api';\r\n// export const API_URL = 'http://192.168.40.14:5000/api';\r\n// export const API_URL = 'http://192.168.0.103:5000/api';\r\n\r\n// export const API_URL = '/api';\r\n\r\nexport function getCookies() {\r\n  var x = document.cookie;\r\n  let cookies = x.split(\";\");\r\n  let data = {};\r\n  cookies.forEach((cookie) => {\r\n    let values = cookie.split(\"=\");\r\n    data[values[0]] = values[1];\r\n  });\r\n  return data;\r\n}\r\n\r\nfunction setRequestAuthHeader(accessToken) {\r\n  axios.defaults.headers.common[\"x-auth-token\"] = accessToken;\r\n}\r\n\r\nexport const userAccessToken = getCookies()[\"x-auth-token\"];\r\n\r\nexport function initRequestAuthHeader() {\r\n  let userAccessToken = getCookies()[\"x-auth-token\"];\r\n  if (userAccessToken) setRequestAuthHeader(userAccessToken);\r\n}\r\ninitRequestAuthHeader();\r\n\r\nexport function request(config) {\r\n  return axios.request(config);\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.06af865d.webp\";","import \"./header.scss\";\r\nimport logo from \"./fonts/logo.webp\";\r\nexport default function Header() {\r\n  return (\r\n    <div className=\"header\">\r\n      <img src={logo} alt=\"logo\" className=\"logo\" />\r\n\r\n      <h1 className=\"heading\">Trace your milk's journey.</h1>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/plant.f2e702b0.svg\";","export default __webpack_public_path__ + \"static/media/factory.cd844593.svg\";","export default __webpack_public_path__ + \"static/media/warehouse.152715e7.svg\";","export default __webpack_public_path__ + \"static/media/arrow.30607347.svg\";","import React, {useEffect ,useState} from \"react\";\r\n\r\n\r\nimport \"./main.scss\";\r\nimport plant from \"./icons/plant.svg\";\r\nimport factory from \"./icons/factory.svg\";\r\nimport warehouse from \"./icons/warehouse.svg\";\r\nimport arrow from \"./icons/arrow.svg\";\r\nimport moment from \"moment\";\r\n\r\nexport default function Main({data}) {\r\n\r\n  return (\r\n    <div className=\"hero\">\r\n      <div className=\"BMC\">\r\n        <img src={plant} className=\"BMC-img\" alt=\"BMC\" />\r\n        <div className=\"card\">\r\n          <h1>BMC</h1>\r\n          <div className=\"section\">\r\n            <p>Recieved On:</p>\r\n            \r\n            <ul>\r\n              <li>{moment(data.bmc_receive).format('DD MM YYYY')}</li>\r\n              <li>{moment(data.bmc_receive).format('hh:mm A')}</li>\r\n            </ul>\r\n\r\n          </div>\r\n\r\n          <div className=\"section2\">\r\n            <p>Dispatched On:</p>\r\n            \r\n            <ul>\r\n              <li>{moment(data.bmc_dispatch).format('DD MM YYYY')}</li>\r\n              <li>{moment(data.bmc_dispatch).format('hh:mm A')}</li>\r\n            </ul>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"right-arrow\">\r\n        <img src={arrow} className=\"right-img\" alt=\"right-img\" />\r\n      </div>\r\n\r\n      <div className=\"factory\">\r\n        <img src={factory} className=\"plant\" alt=\"plant\" />\r\n        <div className=\"card2\">\r\n          <h1>Plant</h1>\r\n          <div className=\"section3\">\r\n            <p>Recieved On:</p>\r\n            <ul>\r\n              <li>{moment(data.plant_receive).format('DD MM YYYY')}</li>\r\n              <li>{moment(data.plant_receive).format('hh:mm A')}</li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"section4\">\r\n            <p>Dispatched On:</p>\r\n            <ul>\r\n              <li>{moment(data.plant_dispatch).format('DD MM YYYY')}</li>\r\n              <li>{moment(data.plant_dispatch).format('hh:mm A')}</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"left-arrow\">\r\n        <img src={arrow} className=\"left-img\" alt=\"left-img\" />\r\n      </div>\r\n\r\n      <div className=\"warehouse\">\r\n        <img src={warehouse} className=\"dispatch\" alt=\"warehouse \" />\r\n        <div className=\"card3\">\r\n          <h1>Warehouse</h1>\r\n          <div className=\"section5\">\r\n            <p>Recieved On:</p>\r\n            <ul>\r\n              <li>{moment(data.whs_receive).format('DD MM YYYY')}</li>\r\n              <li>{moment(data.whs_receive).format('hh:mm A')}</li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"section6\">\r\n            <p>Dispatched On:</p>\r\n            <ul>\r\n              <li>{moment(data.whs_dispatch).format('DD MM YYYY')}</li>\r\n              <li>{moment(data.whs_dispatch).format('hh:mm A')}</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useRef , useState } from \"react\";\r\nimport lottie from \"lottie-web\";\r\nimport moment from \"moment\";\r\nimport \"./journey.scss\";\r\n\r\nexport default function Journey({data}) {\r\n  const [ journey ,setJourney ] =useState(\"\");\r\nuseEffect(() => {\r\n\r\n    if(!data)\r\n    return\r\n    let startTime = moment(data.bmc_receive);\r\n  let endTime = moment(data.whs_dispatch);\r\n  let duration = moment.duration(endTime.diff(startTime));\r\n  console.log(duration);\r\n  let hours = parseInt(duration.asHours());\r\n  let minutes = parseInt(duration.asMinutes()) % 60;\r\n  setJourney(hours + \" hours \" +  minutes + \" minutes \");\r\n\r\n} ,[data])\r\n  const container = useRef(null);\r\n\r\n  useEffect(() => {\r\n    lottie.loadAnimation({\r\n      container: container.current,\r\n      renderer: \"svg\",\r\n      loop: true,\r\n      autoplay: true,\r\n      speed: \"2.5x\",\r\n      animationData: require(\"./icons/truck.json\"),\r\n    });\r\n  }, []);\r\n  return (\r\n    <div className=\"journey\">\r\n      <div className=\"truck\" ref={container}></div>\r\n      <p className=\"time\">Total  journey  time : {journey}</p>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/milkbox.0109d595.svg\";","import  React , { useEffect } from \"react\";\r\nimport \"./facts.scss\";\r\n\r\nimport milkbox from \"./icons/milkbox.svg\";\r\n\r\nexport default function Facts( {data} ) {\r\n\r\n   \r\n   \r\n  return (\r\n    <div className=\"facts\">\r\n      <img src={milkbox} className=\"Milk\" alt=\"milkboxs\" />\r\n    {data &&<button className=\"download-btn\" onClick = {() => window.open(data.pdf_url)}> Download Full Report</button>}\r\n    { data&& \r\n      <div className=\"cards\">\r\n        <div className=\"section1\">\r\n          <div className=\"f1\">\r\n    \r\n            <h1>pH</h1>\r\n            \r\n            <p>{data.ph}</p>\r\n          </div>\r\n          <div className=\"f2\">\r\n            <h1>Fat </h1>\r\n            <p>{data.fat} mg</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"section2\">\r\n          <div className=\"f3\">\r\n            <h1>SNF</h1>\r\n            <p>{data.snf} %</p>\r\n          </div>\r\n          <div className=\"f4\">\r\n            <h1>MBRT</h1>\r\n            <p>{data.mbrt} mins</p>\r\n          </div>\r\n        </div>\r\n        \r\n      </div>\r\n}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport \"./getdate.scss\";\r\n\r\nexport default function GetDate( {startDate ,setStartDate ,setIsA2 ,isA2}) {\r\n  \r\n\r\n  \r\n  return (\r\n    <div className=\"datepicker\">\r\n      <DatePicker\r\n        className=\"box\"\r\n        selected={startDate}\r\n        \r\n        onChange={(date) => setStartDate(date)}\r\n      />\r\n      <div className=\"tabs\">\r\n        <button\r\n          className= {`a2 ${isA2 ? \"primary\" : \"\"}`}\r\n          \r\n          onClick={() => setIsA2(true)}\r\n          name=\"A2\"\r\n          \r\n        >\r\n          A2\r\n        </button>\r\n        <button\r\n          className={`Mix ${!isA2 ? \"primary\" : \"\" }`}\r\n         \r\n          onClick={() => setIsA2(false)}\r\n          name=\"Mix\"\r\n        >\r\n          Mix\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import {API_URL , request} from '../helpers/utils';\r\nimport moment from 'moment';\r\n\r\nexport async function getReport(type = 'a2', report_date = moment().format('YYYY-MM-DD')) {\r\n\r\n  let date = moment(report_date).format('YYYY-MM-DD');\r\n    \r\n  let url = `${API_URL}/misc/getReport?report_date=${date}&type=${type}`;\r\n  let result =  await request({\r\n    url: url,\r\n    method: 'get',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    }\r\n  });\r\n  console.log(result);\r\n  return result ;\r\n  \r\n}","import React , {useState , useEffect} from \"react\";\r\nimport \"./trace.scss\";\r\nimport Header from \"./header.js\";\r\n\r\nimport Main from \"./Main.js\";\r\nimport Journey from \"./Journey.js\";\r\nimport Facts from \"./Facts.js\";\r\nimport GetDate from \"./getDate.js\";\r\nimport {getReport} from \"../api/misc.js\";\r\nimport Loading from \"../components/Loading.js\";\r\nexport default function Trace() {\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  const [isA2, setIsA2] = useState(true);\r\n  const [data ,setData] = useState(null);\r\n  const [loading, setLoading] =useState(false);\r\n\r\n   useEffect(() =>{\r\n    async function getData()\r\n    {\r\n      try{\r\n        setLoading(true);\r\n    const response = await getReport(isA2 ? \"a2\" :\"b2\" , startDate) ;\r\n    setData(response.data);\r\n    setLoading(false);\r\n      }\r\n    catch\r\n      (err ){\r\n        console.log(err);\r\n        setData(null);\r\n        setLoading(false);\r\n      }\r\n  \r\n    }\r\n    getData();\r\n },[ startDate , isA2])\r\n\r\n\r\n  return (\r\n    <div className=\"trace\">\r\n      <Header />\r\n      <GetDate startDate = {startDate} setStartDate ={setStartDate} isA2 = {isA2} setIsA2 = {setIsA2}/>\r\n        {loading && <Loading />}\r\n      {!data && <p>Record Not Found</p>}\r\n      {data && <> <Main data= {data}  />\r\n      <Journey data = {data} />\r\n      <Facts data= {data}  /> </>}\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}