(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[20],{309:function(e,a,t){"use strict";t.r(a);var r=t(94),l=t(95),c=t(97),n=t(96),s=t(10),i=t(3),d=t(0),o=t.n(d),u=t(39),j=t(296),b=t(314),h=t(176),v=t(289),f=t(153),O=t(175),x=t(311),p=t(279),m=t(41),y=t(148),g=t(147),A=t(2),w=t(233),C=t.n(w),S=t(284),k=t(285),D=t(286),N=t(277),E=t(240);var H=o.a.memo(Object(A.f)((function(e){var a=e.data,t=e.history;return Object(i.jsx)("div",{id:"order cards",children:a.map((function(e){var a=e.order_id,r=e.crate_id,l=e.name,c=e.phone,n=e.address,s=n.hub,d=n.area,o=n.subarea,u=n.house_number;return Object(i.jsxs)(S.a,{style:{margin:10},children:[Object(i.jsx)(k.a,{onClick:function(){e.delivered?alert("Already delivered"):t.push("/".concat(a,"/deliver"))},title:Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"flex middle",children:[Object(i.jsx)(E.a,{style:{background:"red"},children:r}),Object(i.jsx)("div",{style:{marginLeft:10},children:l})]})})}),Object(i.jsx)(N.a,{}),Object(i.jsxs)(D.a,{children:[Object(i.jsx)("div",{style:{paddingTop:10,paddingBottom:10},children:Object(i.jsxs)("a",{href:"tel:+91".concat(c),className:"flex middle",children:[Object(i.jsx)(C.a,{})," ",c]})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{style:{fontWeight:"bold"},children:"Address"})," ",u,", ",o,", ",d,", ",s]})]})]})}))})})));var _=function(e){Object(c.a)(t,e);var a=Object(n.a)(t);function t(){var e;Object(r.a)(this,t);for(var l=arguments.length,c=new Array(l),n=0;n<l;n++)c[n]=arguments[n];return(e=a.call.apply(a,[this].concat(c))).state={phone:"",selectedArea:"all",selectedSubarea:"all",selectedHub:"all",showDelivered:!1},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.onUpdateOrdersData,t=e.driver;Object(y.a)(t.id).then((function(e){a(e.data)}))}},{key:"render",value:function(){var e=this,a=!0,t=[],r=this.state,l=r.selectedArea,c=r.selectedHub,n=r.selectedSubarea,s=r.phone,d=r.showDelivered,o=this.props,u=o.customers,y=o.locations,g=o.areas,A=o.subareas,w=o.hubs;if("all"!==c){var C=y.get(c);g=(g=Array.from(C.keys())).sort((function(e,a){return e.localeCompare(a)}));var S="all"!==l?[C.get(l)]:Array.from(C.values());A=[],S.forEach((function(e){e.forEach((function(e){return A.push(e)}))})),A=A.sort((function(e,a){return e.localeCompare(a)}))}if("all"!==l){var k=new Map;Array.from(y.keys()).forEach((function(e){y.get(e).has(l)&&(k=y.get(e))}));var D=[k.get(l)];A=[],D.forEach((function(e){e.forEach((function(e){return A.push(e)}))})),A=A.sort((function(e,a){return e.localeCompare(a)}))}return u&&(a=!1,t=(t=(t=Array.from(u.values())).filter((function(e){return("all"===c||e.address.hub===c)&&(("all"===l||e.address.area===l)&&(("all"===n||e.address.subarea===n)&&(!s||(-1!==e.phone.indexOf(s)||-1!==e.name.toLowerCase().indexOf(s.toLowerCase())))))}))).filter((function(e){return d?!!e.delivery.deliver_date:!e.delivery.deliver_date}))),Object(i.jsx)("div",{children:a?Object(i.jsx)(m.a,{}):Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"flex middle",style:{padding:10},children:[Object(i.jsx)("div",{style:{marginRight:20},children:Object(i.jsx)(x.a,{value:s,label:"Phone or Name",onChange:function(a){return e.setState({phone:a.target.value})}})}),Object(i.jsx)("div",{children:Object(i.jsxs)(v.a,{children:[Object(i.jsx)(b.a,{id:"hub-filter",children:"Hub"}),Object(i.jsxs)(j.a,{labelId:"hub-filter",style:{width:160},value:c,onChange:function(a){var t=a.target.value;e.setState({selectedHub:t,selectedArea:"all",selectedSubarea:"all"})},children:[Object(i.jsx)(h.a,{value:"all",children:"All"}),w.map((function(e){return Object(i.jsx)(h.a,{value:e,children:e},e)}))]})]})})]}),Object(i.jsxs)("div",{className:"flex middle",style:{padding:10},children:[Object(i.jsx)("div",{style:{marginRight:20},children:Object(i.jsxs)(v.a,{children:[Object(i.jsx)(b.a,{id:"area-filter",children:"Area"}),Object(i.jsxs)(j.a,{labelId:"area-filter",style:{width:150},value:l,onChange:function(a){var t=a.target.value;e.setState({selectedArea:t,selectedSubarea:"all"})},children:[Object(i.jsx)(h.a,{value:"all",children:"All"}),g.map((function(e){return Object(i.jsx)(h.a,{value:e,children:e},e)}))]})]})}),Object(i.jsx)("div",{children:Object(i.jsxs)(v.a,{children:[Object(i.jsx)(b.a,{id:"subarea-filter",children:"Subareas"}),Object(i.jsxs)(j.a,{labelId:"subarea-filter",style:{width:150},value:n,onChange:function(a,t){var r=a.target.value;e.setState({selectedSubarea:r})},children:[Object(i.jsx)(h.a,{value:"all",children:"All"}),A.map((function(e){return Object(i.jsx)(h.a,{value:e,children:e},e)}))]})]})})]}),Object(i.jsxs)("div",{className:"flex space-bw",style:{padding:10},children:[Object(i.jsx)("div",{children:Object(i.jsx)(f.a,{control:Object(i.jsx)(O.a,{checked:d,onChange:function(a,t){return e.setState({showDelivered:t})},color:"primary"}),label:"Delivered"})}),Object(i.jsx)("div",{children:Object(i.jsx)(p.a,{color:"primary",onClick:function(){e.setState({phone:"",selectedArea:"all",selectedSubarea:"all",selectedHub:"all",selectedDriver:"all",showWithoutDairy:!1})},children:"Clear All Filters"})})]}),Object(i.jsx)(H,{data:t})]})})}}]),t}(d.Component);a.default=Object(u.b)((function(e){var a=e.setDriver;return Object(s.a)({},a)}),(function(e){return{onUpdateOrdersData:function(a){return e(Object(g.b)(a))}}}))(_)}}]);
//# sourceMappingURL=20.2c771438.chunk.js.map