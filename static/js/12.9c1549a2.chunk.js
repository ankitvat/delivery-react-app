(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[12],{110:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return c}));var r=a(120),i=a.n(r),n="https://api.deliver.go4life.in/api";function o(){var t=document.cookie.split(";"),e={};return t.forEach((function(t){var a=t.split("=");e[a[0]]=a[1]})),e}o()["x-auth-token"];function c(t){return i.a.request(t)}!function(){var t,e=o()["x-auth-token"];e&&(t=e,i.a.defaults.headers.common["x-auth-token"]=t)}()},144:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var r=a(110),i=a(124),n=a.n(i);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"a2",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n()().format("YYYY-MM-DD");e=n()(e).format("YYYY-MM-DD");var a="".concat(r.a,"/misc/getReport?report_date=").concat(e,"&type=").concat(t);return Object(r.b)({url:a,method:"get",headers:{"Content-Type":"application/json"}})}},206:function(t,e,a){},296:function(t,e,a){"use strict";a.r(e);var r=a(94),i=a(95),n=a(98),o=a(97),c=a(3),s=a(0),l=a.p+"static/media/logo.06af865d.webp",d=(a(206),a(207)),u=a(268),h=a(269),p=a(218),m=a.n(p),f=a(217),j=a.n(f),b=a(144),v=a(214),Y=a.n(v),x=a(42),M=a(267),O=a(270),_=function(t){Object(n.a)(a,t);var e=Object(o.a)(a);function a(t){var i;return Object(r.a)(this,a),(i=e.call(this,t)).update=function(){var t=i.state,e=t.milk_type,a=t.report_date;i.setState({loading:!0}),Object(b.a)(e,a).then((function(t){i.state({report:t.data,loading:!1})})).catch((function(t){i.setState({error:t.response?t.response.data:"Some error occured",loading:!1})}))},i.gotoPreviousDay=function(){var t=i.state.report_date;i.setState({report_date:Y()(t).subtract(1,"day")},(function(){return i.update()}))},i.gotoNextDay=function(){var t=i.state.report_date;i.setState({report_date:Y()(t).add(1,"day")},(function(){return i.update()}))},i.state={report_date:Y()().format("YYYY-MM-DD"),milk_type:"a2",report:{aflatoxin:!1,antibiotics1:!1,antibiotics2:!1,antibiotics3:!1,bmc_dispatch:"2021-01-21T00:00:00.000Z",bmc_receive:"2021-01-21T00:00:00.000Z",fat:4,id:13,mbrt:40,milk_type:"a2",pdf_url:"https://saleor-go4life-production.s3.ap-south-1.amazonaws.com/milk-report/a2-2021-01-22.pdf",ph:7,plant_dispatch:"2021-01-21T00:00:00.000Z",plant_receive:"2021-01-21T00:00:00.000Z",report_date:"2021-01-22T00:00:00.000Z",snf:9,sodium_content:496,whs_dispatch:"2021-01-21T00:00:00.000Z",whs_receive:"2021-01-21T00:00:00.000Z"}},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.props.location.search,a=(e=new URLSearchParams(e)).get("milk_type")||"a2",r=e.get("report_date")||Y()().format("YYYY-MM-YY");this.setState({milk_type:a,report_date:r},(function(){return t.update()}))}},{key:"render",value:function(){var t=this.state,e=t.loading,a=t.report,r=t.report_date;t.milk_type,t.error;return Object(c.jsxs)(s.Fragment,{children:[Object(c.jsxs)("div",{id:"trace",className:"flex middle",children:[Object(c.jsx)("img",{src:l,alt:"logo",className:"logo",width:"20%"}),Object(c.jsx)(M.a,{variant:"h4",children:"Trace Your Milk"})]}),Object(c.jsx)(u.a,{}),Object(c.jsxs)("div",{className:"flex p-10",style:{justifyContent:"space-around"},children:[Object(c.jsx)("div",{children:Object(c.jsx)(h.a,{onClick:this.gotoPreviousDay,style:{border:"1px solid rgba(0, 0, 0, 0.23)"},disabled:Y()(r)<=Y()("2021-01-15").endOf("day"),children:Object(c.jsx)(j.a,{})})}),Object(c.jsx)("div",{className:"flex center middle ",style:{flexGrow:.5,paddingRight:10,paddingLeft:10},children:Object(c.jsx)(O.a,{variant:"outlined",fullWidth:!0,style:{height:50},children:Y()(r).format("DD MMM YYYY")})}),Object(c.jsx)("div",{children:Object(c.jsx)(h.a,{onClick:this.gotoNextDay,style:{border:"1px solid rgba(0, 0, 0, 0.23)"},disabled:Y()(r)>=Y()().startOf("day"),children:Object(c.jsx)(m.a,{})})})]}),Object(c.jsx)(u.a,{}),e?Object(c.jsx)("div",{children:Object(c.jsx)(x.a,{})}):Object(c.jsx)("div",{style:{marginTop:10},children:Object(c.jsxs)(d.Timeline,{children:[Object(c.jsx)(d.Event,{interval:Y()(a.bmc_receive).format("DD MMM YYYY hh:mm A"),title:"BMC",subtitle:"Your milk arrived at the BMC."}),Object(c.jsx)(d.Event,{interval:Y()(a.bmc_dispatch).format("DD MMM YYYY hh:mm A"),title:"BMC",subtitle:"Your milk left the BMC."}),Object(c.jsx)(d.Event,{interval:Y()(a.plant_receive).format("DD MMM YYYY hh:mm A"),title:"Plant",subtitle:"Your milk arrived at the Plant."}),Object(c.jsx)(d.Event,{interval:Y()(a.plant_dispatch).format("DD MMM YYYY hh:mm A"),title:"Plant",subtitle:"Your milk left the Plant."}),Object(c.jsx)(d.Event,{interval:Y()(a.whs_receive).format("DD MMM YYYY hh:mm A"),title:"Warehouse",subtitle:"Your milk arrived at the warehouse."}),Object(c.jsx)(d.Event,{interval:Y()(a.whs_dispatch).format("DD MMM YYYY hh:mm A"),title:"Warehouse",subtitle:"Your milk left the warehouse."})]})})]})}}]),a}(s.Component);e.default=_}}]);
//# sourceMappingURL=12.9c1549a2.chunk.js.map