(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[8],{112:function(t,e,r){"use strict";e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"export.csv",r=document.createElement("a"),n=[];t.forEach((function(t){t=t.join(","),n.push(t)}));var c=n.join("\n");null!=c&&(c.match(/^data:text\/csv/i)||(c="data:text/csv;charset=utf-8,".concat(c)),r.setAttribute("href",encodeURI(c)),r.setAttribute("download",e),r.click())}},113:function(t,e,r){"use strict";var n=r(88),c=r(89);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=c(r(0)),o=(0,n(r(90)).default)(a.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}),"CloudDownload");e.default=o},115:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r(44);function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,c=!1,a=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(u){c=!0,a=u}finally{try{n||null==i.return||i.return()}finally{if(c)throw a}}return r}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},136:function(t,e,r){"use strict";var n=r(88),c=r(89);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=c(r(0)),o=(0,n(r(90)).default)(a.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");e.default=o},239:function(t,e,r){"use strict";r.r(e);var n=r(115),c=r(91),a=r(92),o=r(95),i=r(94),u=r(10),s=r(4),l=r(0),d=r(37),h=r(119),f=r.n(h),b=r(113),j=r.n(b),v=r(229),p=r(136),m=r.n(p),O=r(112),y=r(109),x=r(39),w=Object(s.jsx)(m.a,{});var D=function(t){Object(o.a)(r,t);var e=Object(i.a)(r);function r(t){var a;return Object(c.a)(this,r),(a=e.call(this,t)).updateState=function(t){a.setState({selectedRows:t.selectedRows})},a.columns=[{name:"Crate",selector:"crateId",sortable:!0,width:"90px"},{name:"Hub",sortable:!0,width:"100px",cell:function(t,e){return t.address.hub}},{name:"Name",selector:"name",sortable:!0,width:"200px"},{name:"Phone",selector:"phone",sortable:!0,width:"140px"},{name:"Product",selector:"products",sortable:!1,cell:function(t,e){var r=t.products,c=t.phone,a=Object.entries(r),o=[];return a.forEach((function(t){var e=Object(n.a)(t,2),r=e[0],c=e[1];"Dairy"!==r&&c.forEach((function(t){return o.push(t)}))})),Object(s.jsxs)("table",{style:{width:"100%",textAlign:"left"},id:"customer-sheet-table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Name"}),Object(s.jsx)("th",{children:"Total"}),Object(s.jsx)("th",{children:"Qty"})]})}),Object(s.jsx)("tbody",{children:o.map((function(t){var e=t.product_id,r=t.total,n=t.unit,a=t.quantity,o=t.product;return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:o}),Object(s.jsxs)("td",{className:"fixed-width-column",children:[r," ",n]}),Object(s.jsx)("td",{className:"fixed-width-column",children:a})]},c.toString()+e.toString())}))})]})}}],a.exportData=function(){var t=a.props.customers,e=Array.from(t.values());e=e.filter((function(t){return!1===t.onlyDairy}));var r=[["Crate","Hub","Name","Phone","Product","Total","Qty"]];e.forEach((function(t){var e=t.products,c=t.phone,a=Object.entries(e),o=[];a.forEach((function(t){var e=Object(n.a)(t,2),r=e[0],c=e[1];"Dairy"!==r&&c.forEach((function(t){return o.push(t)}))})),o.forEach((function(e,n){if(0===n){var a=e.total,o=e.unit,i=e.quantity,u=[t.crateId,"".concat(t.address.hub),"".concat(t.name),"".concat(c),"".concat(e.product),"".concat(a," ").concat(o),"".concat(i)];r.push(u)}else{var s=e.total,l=e.unit,d=e.quantity,h=["","","","","".concat(e.product),"".concat(s," ").concat(l),"".concat(d)];r.push(h)}}))})),Object(O.a)(r,"Customer Sheet - ".concat((new Date).toLocaleDateString(),".csv"))},a.state={loading:!0},a}return Object(a.a)(r,[{key:"render",value:function(){var t=!0,e=this.props.customers,r=[];return e&&(t=!1,r=(r=Array.from(e.values())).filter((function(t){return!1===t.onlyDairy}))),Object(s.jsx)("div",{children:t?Object(s.jsx)(x.a,{}):Object(s.jsx)("div",{id:"customer-sheet-table",children:Object(s.jsx)(f.a,{data:r,columns:this.columns,sortIcon:w,actions:Object(s.jsx)(v.a,{startIcon:Object(s.jsx)(j.a,{}),color:"secondary",variant:"outlined",onClick:this.exportData,children:"Download Excel"})})})})}}]),r}(l.Component);e.default=Object(d.b)((function(t){var e=t.setAdmin;return Object(u.a)({},e)}),(function(t){return{onUpdateOrdersData:function(e){return t(Object(y.c)(e))}}}))(D)}}]);
//# sourceMappingURL=8.19429a6e.chunk.js.map