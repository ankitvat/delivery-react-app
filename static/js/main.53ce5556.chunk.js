(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[3],{14:function(e,a,t){"use strict";t.d(a,"c",(function(){return r})),t.d(a,"d",(function(){return n})),t.d(a,"a",(function(){return c})),t.d(a,"e",(function(){return i})),t.d(a,"b",(function(){return s}));var r="UPDATE_DRIVER",n="UPDATE_ORDERS",c="UPDATE_ADMIN",i="UPDATE_ORDERS_DATA",s="UPDATE_ADMIN_DATA"},39:function(e,a,t){"use strict";var r=t(4),n=t(70);t(0);a.a=function(){return Object(r.jsx)("div",{className:"flex center middle p-10",children:Object(r.jsx)(n.a,{})})}},62:function(e,a,t){},63:function(e,a,t){},69:function(e,a,t){"use strict";t.r(a);var r=t(4),n=t(0),c=t.n(n),i=t(21),s=t.n(i),o=(t(62),t(43)),d=t(41),u=t(2),p=t(85),l=t(52),h=t(86),b=t(87),f=(t(63),t(39)),_=Object(n.lazy)((function(){return Promise.all([t.e(1),t.e(2),t.e(8)]).then(t.bind(null,228))})),v=Object(n.lazy)((function(){return Promise.all([t.e(1),t.e(10)]).then(t.bind(null,229))}));var g=function(){Object(p.a)("(prefers-color-scheme: dark)");var e=Object(n.useState)("light"),a=Object(o.a)(e,2),t=a[0],c=void 0===t?"light":t,i=(a[1],Object(l.a)({palette:{type:c,secondary:{light:"#ff4081",main:"#f50057",dark:"#c51162",contrastText:"#fff"},background:{default:"dark"===c?"#232323":"#fff",paper:"dark"===c?"#161616":"#fff"}}}));return Object(r.jsx)("div",{id:"app",children:Object(r.jsxs)(h.a,{theme:i,children:[Object(r.jsx)(b.a,{}),Object(r.jsx)(d.a,{children:Object(r.jsx)("main",{children:Object(r.jsx)(n.Suspense,{fallback:Object(r.jsx)(f.a,{}),children:Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{path:"/admin",component:_}),Object(r.jsx)(u.a,{path:"/",component:v})]})})})})]})})},y=function(e){e&&e instanceof Function&&t.e(15).then(t.bind(null,218)).then((function(a){var t=a.getCLS,r=a.getFID,n=a.getFCP,c=a.getLCP,i=a.getTTFB;t(e),r(e),n(e),c(e),i(e)}))},j=t(38),O=t(19),m=t(29),D=t(15),k=t(10),w=t(14),x=window.localStorage.getItem("admin");x=x?JSON.parse(x):void 0,console.log(x);var E={admin:x};function I(e){return"Dairy"in e&&1===Object.entries(e).length}function S(e){return!("Dairy"in e)}var A=window.localStorage.getItem("driver"),M={driver:A=A?JSON.parse(A):void 0};function z(e){return"Dairy"in e&&1===Object.entries(e).length}function N(e){return!("Dairy"in e)}var T=Object(O.c)(Object(O.b)({setDriver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case w.c:var t=a.payload;return window.localStorage.setItem("driver",JSON.stringify(t)),Object(k.a)(Object(k.a)({},e),{},{driver:t});case w.d:var r=a.payload,n=new Map,c=new Map,i=new Map;r.forEach((function(e){var a=e.subarea,t=e.area,r=e.hub;if(i.has(r)){var n=i.get(r);if(n.has(t)){var c=n.get(t);c.includes(a)||c.push(a),n.set(t,c),i.set(r,n)}else{var s=[a];n.set(t,s),i.set(r,n)}}else{var o=new Map;o.set(t,[a]),i.set(r,o)}}));var s=[],o=[],d=[],u=[],p={};r.forEach((function(e){var a=e.order_id,t=e.customer_id,r=e.customer_name,c=e.phone_number,i=e.address_id,l=e.house_number,h=e.subarea,b=e.area,f=e.hub,_=e.category,v=e.product,g=e.quantity,y=e.package_size,j=e.package_type,O=e.product_package_id,m=e.product_id,k=e.region_id,w=e.location_id,x=e.delivery_person_id,E={product:v,product_id:m,product_package_id:O,package_size:y,quantity:g,total:y*g,unit:j};if(!1===s.includes(_)&&s.push(_),m in p||(p[m]=v),n.has(t)){var I=n.get(t),S=I.products;_ in S?S[_].push(E):S[_]=[E],I.products=S}else{!1===d.includes(b)&&d.push(b),!1===u.includes(h)&&u.push(h),!1===o.includes(f)&&o.push(f);var A={name:r,phone:c,order_id:a,address:{address_id:i,house_number:l,subarea:h,area:b,hub:f,region_id:k,location_id:w},products:Object(D.a)({},_,[E]),delivery_person_id:x};n.set(t,A)}}));var l,h=1,b=Object(m.a)(n);try{for(b.s();!(l=b.n()).done;){var f=l.value,_=f[1].products;z(_)?f[1].onlyDairy=!0:(f[1].onlyDairy=!1,f[1].crateId=h,h++),N(_)?f[1].hasNoDairy=!0:f[1].onlyDairy=!1}}catch(v){b.e(v)}finally{b.f()}return r.forEach((function(e){var a=e.customer_id,t=e.category,r=e.product,i=e.quantity,s=e.package_size,o=e.package_type,d=e.product_id;if("Dairy"!==t){var u={quantity:i,total:s*i,crateId:n.get(a).crateId};if(c.has(d)){var p=c.get(d),l=p.crates;l.push(u),p.crates=l}else{var h={package_size:s,product:r,unit:o,crates:[u]};c.set(d,h)}}})),Object(k.a)(Object(k.a)({},e),{},{customers:n,locations:i,productsCollection:c,products:p,areas:d,subareas:u,categories:s,hubs:o,orders:r});default:return e}},setAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case w.a:var t=a.payload;return window.localStorage.setItem("admin",JSON.stringify(t)),Object(k.a)(Object(k.a)({},e),{},{admin:t});case w.b:return Object(k.a)(Object(k.a)({},e),a.payload);case w.e:var r=a.payload,n=new Map,c=new Map,i=new Map;r.forEach((function(e){var a=e.subarea,t=e.area,r=e.hub;if(i.has(r)){var n=i.get(r);if(n.has(t)){var c=n.get(t);c.includes(a)||c.push(a),n.set(t,c),i.set(r,n)}else{var s=[a];n.set(t,s),i.set(r,n)}}else{var o=new Map;o.set(t,[a]),i.set(r,o)}}));var s=[],o=[],d=[],u=[],p={};r.forEach((function(e){var a=e.order_id,t=e.customer_id,r=e.customer_name,c=e.phone_number,i=e.address_id,l=e.house_number,h=e.subarea,b=e.area,f=e.hub,_=e.category,v=e.product,g=e.quantity,y=e.package_size,j=e.package_type,O=e.product_package_id,m=e.product_id,k=e.region_id,w=e.location_id,x=e.delivery_person_id,E={product:v,product_id:m,product_package_id:O,package_size:y,quantity:g,total:y*g,unit:j};if(!1===s.includes(_)&&s.push(_),m in p||(p[m]=v),n.has(t)){var I=n.get(t),S=I.products;_ in S?S[_].push(E):S[_]=[E],I.products=S}else{!1===d.includes(b)&&d.push(b),!1===u.includes(h)&&u.push(h),!1===o.includes(f)&&o.push(f);var A={name:r,phone:c,order_id:a,address:{address_id:i,house_number:l,subarea:h,area:b,hub:f,region_id:k,location_id:w},products:Object(D.a)({},_,[E]),delivery_person_id:x};n.set(t,A)}}));var l,h=1,b=Object(m.a)(n);try{for(b.s();!(l=b.n()).done;){var f=l.value,_=f[1].products;I(_)?f[1].onlyDairy=!0:(f[1].onlyDairy=!1,f[1].crateId=h,h++),S(_)?f[1].hasNoDairy=!0:f[1].hasNoDairy=!1}}catch(v){b.e(v)}finally{b.f()}return r.forEach((function(e){var a=e.customer_id,t=e.category,r=e.product,i=e.quantity,s=e.package_size,o=e.package_type,d=e.product_id;if("Dairy"!==t){var u={quantity:i,total:s*i,crateId:n.get(a).crateId};if(c.has(d)){var p=c.get(d),l=p.crates;l.push(u),p.crates=l}else{var h={package_size:s,product:r,unit:o,crates:[u]};c.set(d,h)}}})),Object(k.a)(Object(k.a)({},e),{},{customers:n,locations:i,productsCollection:c,products:p,areas:d,subareas:u,categories:s,hubs:o,orders:r});default:return e}}}));s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(j.a,{store:T,children:Object(r.jsx)(g,{})})}),document.getElementById("root")),y()}},[[69,4,5]]]);
//# sourceMappingURL=main.53ce5556.chunk.js.map