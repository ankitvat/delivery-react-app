(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[9],{103:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i}));var n=a(104),r=a.n(n),s="https://go4life-deliver.herokuapp.com/";function o(){var e=document.cookie.split(";"),t={};return e.forEach((function(e){var a=e.split("=");t[a[0]]=a[1]})),t}o()["x-auth-token"];function i(e){return r.a.request(e)}!function(){var e,t=o()["x-auth-token"];t&&(e=t,r.a.defaults.headers.common["x-auth-token"]=e)}()},128:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o}));var n=a(103),r=a(104);function s(e){var t="".concat(n.a,"/driver/").concat(e,"/getMyOrders");return Object(n.b)({url:t,method:"get",headers:{"Content-Type":"application/json"}})}function o(e){var t="".concat(n.a,"/driver/submitOrderDelivery");return Object(r.post)(t,e,{headers:{"content-type":"multipart/form-data"}})}},186:function(e,t,a){"use strict";var n=a(3),r=a(16),s=a(1),o=a(0),i=(a(9),a(31)),c=a(20),l=a(232),d=a(108),u=a(89),b=a(125),h=a(21),f="undefined"===typeof window?o.useEffect:o.useLayoutEffect,p=o.forwardRef((function(e,t){var a=e.alignItems,r=void 0===a?"center":a,c=e.autoFocus,p=void 0!==c&&c,v=e.button,m=void 0!==v&&v,j=e.children,g=e.classes,O=e.className,x=e.component,y=e.ContainerComponent,C=void 0===y?"li":y,w=e.ContainerProps,k=(w=void 0===w?{}:w).className,A=Object(n.a)(w,["className"]),I=e.dense,S=void 0!==I&&I,N=e.disabled,E=void 0!==N&&N,H=e.disableGutters,D=void 0!==H&&H,R=e.divider,L=void 0!==R&&R,M=e.focusVisibleClassName,P=e.selected,V=void 0!==P&&P,F=Object(n.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),G=o.useContext(b.a),T={dense:S||G.dense||!1,alignItems:r},B=o.useRef(null);f((function(){p&&B.current&&B.current.focus()}),[p]);var $=o.Children.toArray(j),z=$.length&&Object(d.a)($[$.length-1],["ListItemSecondaryAction"]),J=o.useCallback((function(e){B.current=h.findDOMNode(e)}),[]),U=Object(u.a)(J,t),_=Object(s.a)({className:Object(i.a)(g.root,O,T.dense&&g.dense,!D&&g.gutters,L&&g.divider,E&&g.disabled,m&&g.button,"center"!==r&&g.alignItemsFlexStart,z&&g.secondaryAction,V&&g.selected),disabled:E},F),q=x||"li";return m&&(_.component=x||"div",_.focusVisibleClassName=Object(i.a)(g.focusVisible,M),q=l.a),z?(q=_.component||x?q:"div","li"===C&&("li"===q?q="div":"li"===_.component&&(_.component="div")),o.createElement(b.a.Provider,{value:T},o.createElement(C,Object(s.a)({className:Object(i.a)(g.container,k),ref:U},A),o.createElement(q,_,$),$.pop()))):o.createElement(b.a.Provider,{value:T},o.createElement(q,Object(s.a)({ref:U},_),$))})),v=Object(c.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(p),m=o.forwardRef((function(e,t){var a,r=e.classes,c=e.className,l=e.component,d=void 0===l?"li":l,u=e.disableGutters,b=void 0!==u&&u,h=e.ListItemClasses,f=e.role,p=void 0===f?"menuitem":f,m=e.selected,j=e.tabIndex,g=Object(n.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(a=void 0!==j?j:-1),o.createElement(v,Object(s.a)({button:!0,role:p,tabIndex:a,component:d,selected:m,disableGutters:b,classes:Object(s.a)({dense:r.dense},h),className:Object(i.a)(r.root,c,m&&r.selected,!b&&r.gutters),ref:t},g))}));t.a=Object(c.a)((function(e){return{root:Object(s.a)({},e.typography.body1,Object(r.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(s.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(m)},238:function(e,t,a){"use strict";a.r(t);var n=a(92),r=a(93),s=a(95),o=a(94),i=a(10),c=a(4),l=a(0),d=a.n(l),u=a(38),b=a(230),h=a(243),f=a(186),p=a(224),v=a(240),m=a(217),j=a(40),g=a(128),O=a(126),x=a(2),y=a(118),C=a.n(y);var w=d.a.memo(Object(x.f)((function(e){var t=e.data,a=e.history;return console.log(a),console.log("Rerendering Table"),Object(c.jsx)(C.a,{striped:!0,noHeader:!0,dense:!0,data:t,columns:[{name:"Crate",selector:"crateId",sortable:!0,width:"70px"},{name:"Name",selector:"name",sortable:!0,width:"200px"},{name:"Phone",selector:"phone",sortable:!0,width:"140px"},{name:"Hub",sortable:!0,selector:"address.hub",width:"100px",cell:function(e,t){return e.address.hub}},{name:"Region",sortable:!0,selector:"address.area",width:"140px",cell:function(e,t){return e.address.area}},{name:"Locality",sortable:!0,selector:"address.subarea",width:"150px",cell:function(e,t){return e.address.subarea}},{name:"House",selector:"address.house",width:"200px",cell:function(e,t){return e.address.house_number}}],onRowClicked:function(e,t){a.push("/".concat(e.order_id,"/deliver"))}})})));var k=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={phone:"",selectedArea:"all",selectedSubarea:"all",selectedHub:"all"},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onUpdateOrdersData,a=e.driver;Object(g.a)(a.id).then((function(e){t(e.data)}))}},{key:"render",value:function(){var e=this,t=!0,a=[],n=this.state,r=n.selectedArea,s=n.selectedHub,o=n.selectedSubarea,i=n.phone,l=this.props,d=l.customers,u=l.locations,g=l.areas,O=l.subareas,x=l.hubs;if("all"!==s){var y=u.get(s);g=(g=Array.from(y.keys())).sort((function(e,t){return e.localeCompare(t)}));var C="all"!==r?[y.get(r)]:Array.from(y.values());O=[],C.forEach((function(e){e.forEach((function(e){return O.push(e)}))})),O=O.sort((function(e,t){return e.localeCompare(t)}))}if("all"!==r){var k=new Map;Array.from(u.keys()).forEach((function(e){u.get(e).has(r)&&(k=u.get(e))}));var A=[k.get(r)];O=[],A.forEach((function(e){e.forEach((function(e){return O.push(e)}))})),O=O.sort((function(e,t){return e.localeCompare(t)}))}return d&&(t=!1,a=(a=Array.from(d.values())).filter((function(e){return("all"===s||e.address.hub===s)&&(("all"===r||e.address.area===r)&&(("all"===o||e.address.subarea===o)&&(!i||-1!==e.phone.indexOf(i))))}))),Object(c.jsx)("div",{children:t?Object(c.jsx)(j.a,{}):Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"flex middle",style:{padding:10},children:[Object(c.jsx)("div",{style:{marginRight:20},children:Object(c.jsx)(v.a,{value:i,label:"Phone",onChange:function(t){return e.setState({phone:t.target.value})}})}),Object(c.jsx)("div",{children:Object(c.jsxs)(p.a,{children:[Object(c.jsx)(h.a,{id:"hub-filter",children:"Hub"}),Object(c.jsxs)(b.a,{labelId:"hub-filter",style:{width:160},value:s,onChange:function(t){var a=t.target.value;e.setState({selectedHub:a,selectedArea:"all",selectedSubarea:"all"})},children:[Object(c.jsx)(f.a,{value:"all",children:"All"}),x.map((function(e){return Object(c.jsx)(f.a,{value:e,children:e},e)}))]})]})})]}),Object(c.jsxs)("div",{className:"flex middle",style:{padding:10},children:[Object(c.jsx)("div",{style:{marginRight:20},children:Object(c.jsxs)(p.a,{children:[Object(c.jsx)(h.a,{id:"area-filter",children:"Area"}),Object(c.jsxs)(b.a,{labelId:"area-filter",style:{width:150},value:r,onChange:function(t){var a=t.target.value;e.setState({selectedArea:a,selectedSubarea:"all"})},children:[Object(c.jsx)(f.a,{value:"all",children:"All"}),g.map((function(e){return Object(c.jsx)(f.a,{value:e,children:e},e)}))]})]})}),Object(c.jsx)("div",{children:Object(c.jsxs)(p.a,{children:[Object(c.jsx)(h.a,{id:"subarea-filter",children:"Subareas"}),Object(c.jsxs)(b.a,{labelId:"subarea-filter",style:{width:150},value:o,onChange:function(t,a){var n=t.target.value;e.setState({selectedSubarea:n})},children:[Object(c.jsx)(f.a,{value:"all",children:"All"}),O.map((function(e){return Object(c.jsx)(f.a,{value:e,children:e},e)}))]})]})})]}),Object(c.jsx)("div",{className:"flex right",style:{padding:10},children:Object(c.jsx)("div",{children:Object(c.jsx)(m.a,{color:"primary",onClick:function(){e.setState({phone:"",selectedArea:"all",selectedSubarea:"all",selectedHub:"all",selectedDriver:"all",showWithoutDairy:!1})},children:"Clear All Filters"})})}),Object(c.jsx)(w,{data:a})]})})}}]),a}(l.Component);t.default=Object(u.b)((function(e){var t=e.setDriver;return Object(i.a)({},t)}),(function(e){return{onUpdateOrdersData:function(t){return e(Object(O.b)(t))}}}))(k)}}]);
//# sourceMappingURL=9.ba1f3211.chunk.js.map