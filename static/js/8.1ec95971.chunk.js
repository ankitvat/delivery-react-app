(this["webpackJsonpdelivery-crm"]=this["webpackJsonpdelivery-crm"]||[]).push([[8],{106:function(t,e,n){"use strict";n.r(e),n.d(e,"capitalize",(function(){return r.a})),n.d(e,"createChainedFunction",(function(){return o.a})),n.d(e,"createSvgIcon",(function(){return c.a})),n.d(e,"debounce",(function(){return a.a})),n.d(e,"deprecatedPropType",(function(){return u})),n.d(e,"isMuiElement",(function(){return i.a})),n.d(e,"ownerDocument",(function(){return s.a})),n.d(e,"ownerWindow",(function(){return l.a})),n.d(e,"requirePropFactory",(function(){return d})),n.d(e,"setRef",(function(){return f.a})),n.d(e,"unsupportedProp",(function(){return b.a})),n.d(e,"useControlled",(function(){return h.a})),n.d(e,"useEventCallback",(function(){return p.a})),n.d(e,"useForkRef",(function(){return j.a})),n.d(e,"unstable_useId",(function(){return v.a})),n.d(e,"useIsFocusVisible",(function(){return y.a}));var r=n(36),o=n(96),c=n(88),a=n(99);function u(t,e){return function(){return null}}var i=n(100),s=n(87),l=n(104);function d(t){return function(){return null}}var f=n(95),b=n(97),h=n(93),p=n(94),j=n(86),v=n(98),y=n(103)},110:function(t,e){function n(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},119:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(44);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,c=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(i){o=!0,c=i}finally{try{r||null==u.return||u.return()}finally{if(o)throw c}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},134:function(t,e,n){"use strict";e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"export.csv",n=document.createElement("a"),r=[];t.forEach((function(t){t=t.join(","),r.push(t)}));var o=r.join("\n");null!=o&&(o.match(/^data:text\/csv/i)||(o="data:text/csv;charset=utf-8,".concat(o)),n.setAttribute("href",encodeURI(o)),n.setAttribute("download",e),n.click())}},135:function(t,e,n){"use strict";var r=n(89),o=n(90);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=o(n(0)),a=(0,r(n(91)).default)(c.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");e.default=a},136:function(t,e,n){"use strict";var r=n(89),o=n(90);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=o(n(0)),a=(0,r(n(91)).default)(c.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}),"CloudDownload");e.default=a},238:function(t,e,n){"use strict";n.r(e);var r=n(119),o=n(101),c=n(102),a=n(107),u=n(105),i=n(10),s=n(4),l=n(0),d=n(37),f=n(121),b=n.n(f),h=n(136),p=n.n(h),j=n(228),v=n(135),y=n.n(v),m=n(134),O=n(117),x=n(39),w=Object(s.jsx)(y.a,{});var S=function(t){Object(a.a)(n,t);var e=Object(u.a)(n);function n(t){var c;return Object(o.a)(this,n),(c=e.call(this,t)).updateState=function(t){c.setState({selectedRows:t.selectedRows})},c.columns=[{name:"Crate",selector:"crateId",sortable:!0,width:"90px"},{name:"Hub",sortable:!0,width:"100px",cell:function(t,e){return t.address.hub}},{name:"Name",selector:"name",sortable:!0,width:"200px"},{name:"Phone",selector:"phone",sortable:!0,width:"140px"},{name:"Product",selector:"products",sortable:!1,cell:function(t,e){var n=t.products,o=t.phone,c=Object.entries(n),a=[];return c.forEach((function(t){var e=Object(r.a)(t,2),n=e[0],o=e[1];"Dairy"!==n&&o.forEach((function(t){return a.push(t)}))})),Object(s.jsxs)("table",{style:{width:"100%",textAlign:"left"},id:"customer-sheet-table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Name"}),Object(s.jsx)("th",{children:"Total"}),Object(s.jsx)("th",{children:"Qty"})]})}),Object(s.jsx)("tbody",{children:a.map((function(t){var e=t.product_id,n=t.total,r=t.unit,c=t.quantity,a=t.product;return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:a}),Object(s.jsxs)("td",{className:"fixed-width-column",children:[n," ",r]}),Object(s.jsx)("td",{className:"fixed-width-column",children:c})]},o.toString()+e.toString())}))})]})}}],c.exportData=function(){var t=c.props.customers,e=Array.from(t.values());e=e.filter((function(t){return!1===t.onlyDairy}));var n=[["Crate","Hub","Name","Phone","Product","Total","Qty"]];e.forEach((function(t){var e=t.products,o=t.phone,c=Object.entries(e),a=[];c.forEach((function(t){var e=Object(r.a)(t,2),n=e[0],o=e[1];"Dairy"!==n&&o.forEach((function(t){return a.push(t)}))})),a.forEach((function(e,r){if(0===r){var c=e.total,a=e.unit,u=e.quantity,i=[t.crateId,"".concat(t.address.hub),"".concat(t.name),"".concat(o),"".concat(e.product),"".concat(c," ").concat(a),"".concat(u)];n.push(i)}else{var s=e.total,l=e.unit,d=e.quantity,f=[t.crateId,"".concat(t.address.hub),"".concat(t.name),"".concat(o),"".concat(e.product),"".concat(s," ").concat(l),"".concat(d)];n.push(f)}}))})),Object(m.a)(n,"Customer Sheet - ".concat((new Date).toLocaleDateString(),".csv"))},c.state={loading:!0},c}return Object(c.a)(n,[{key:"render",value:function(){var t=!0,e=this.props.customers,n=[];return e&&(t=!1,n=(n=Array.from(e.values())).filter((function(t){return!1===t.onlyDairy}))),Object(s.jsx)("div",{children:t?Object(s.jsx)(x.a,{}):Object(s.jsx)("div",{id:"customer-sheet-table",children:Object(s.jsx)(b.a,{data:n,columns:this.columns,sortIcon:w,actions:Object(s.jsx)(j.a,{startIcon:Object(s.jsx)(p.a,{}),color:"secondary",variant:"outlined",onClick:this.exportData,children:"Download Excel"})})})})}}]),n}(l.Component);e.default=Object(d.b)((function(t){var e=t.setAdmin;return Object(i.a)({},e)}),(function(t){return{onUpdateOrdersData:function(e){return t(Object(O.c)(e))}}}))(S)},89:function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},90:function(t,e,n){var r=n(110);function o(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}t.exports=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var u=c?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}},91:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(106)},97:function(t,e,n){"use strict";function r(t,e,n,r,o){return null}n.d(e,"a",(function(){return r}))},98:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0);function o(t){var e=r.useState(t),n=e[0],o=e[1],c=t||n;return r.useEffect((function(){null==n&&o("mui-".concat(Math.round(1e5*Math.random())))}),[n]),c}}}]);
//# sourceMappingURL=8.1ec95971.chunk.js.map